<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>License Attribution Report - {{ company_name }}</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6; color: #333; max-width: 1200px;
            margin: 0 auto; padding: 40px 20px;
        }
        .header {
            border-bottom: 4px solid {{ brand_color }};
            padding-bottom: 20px; margin-bottom: 40px;
        }
        .header h1 { color: {{ brand_color }}; font-size: 32px; }
        .attribution-card {
            background: #f8f9fa; border-left: 4px solid {{ brand_color }};
            padding: 20px; margin-bottom: 20px; border-radius: 4px;
        }
        .attribution-card .package-name {
            font-size: 18px; font-weight: 600; color: #333;
            margin-bottom: 8px;
        }
        .attribution-card .info-row {
            font-size: 14px; color: #666; margin: 4px 0;
        }
        .attribution-card .license {
            display: inline-block;
            background: {{ brand_color }}; color: white;
            padding: 4px 12px; border-radius: 4px;
            font-size: 12px; font-weight: 600;
            margin-top: 8px;
        }
        .footer {
            margin-top: 60px; padding-top: 20px;
            border-top: 1px solid #dee2e6;
            text-align: center; color: #666; font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>License Attribution Report</h1>
        <p>Open Source Software Components</p>
        <p style="margin-top: 10px; color: #666;">
            {{ company_name }} | {{ report_date }}
        </p>
    </div>

    <div style="margin-bottom: 40px;">
        <p style="font-size: 16px; line-height: 1.8;">
            This document provides attribution for all open source software components
            used in {{ company_name }}'s products, as required by their respective licenses.
        </p>
        <p style="margin-top: 20px; font-size: 14px; color: #666;">
            <strong>Total Components:</strong> {{ attributions | length }}<br>
            <strong>Report Date:</strong> {{ report_date }}<br>
            <strong>Format:</strong> SPDX 2.3
        </p>
    </div>

    <h2 style="color: {{ brand_color }}; margin: 40px 0 20px 0;">Component Attributions</h2>

    {% for attr in attributions %}
    <div class="attribution-card">
        <div class="package-name">{{ attr.name }}</div>
        <div class="info-row">
            <strong>Version:</strong> {{ attr.version }}
        </div>
        {% if attr.purl %}
        <div class="info-row">
            <strong>Package URL:</strong> <code>{{ attr.purl }}</code>
        </div>
        {% endif %}
        {% if attr.download_location and attr.download_location != 'NOASSERTION' %}
        <div class="info-row">
            <strong>Source:</strong> {{ attr.download_location }}
        </div>
        {% endif %}
        {% if attr.copyright and attr.copyright != 'NOASSERTION' %}
        <div class="info-row">
            <strong>Copyright:</strong> {{ attr.copyright }}
        </div>
        {% endif %}
        <div class="license">
            License: {{ attr.license if attr.license != 'NOASSERTION' else 'Unknown' }}
        </div>
    </div>
    {% endfor %}

    <div style="margin-top: 60px; padding: 20px; background: #fff3cd; border-left: 4px solid #ffc107; border-radius: 4px;">
        <h3 style="color: #856404; margin-bottom: 10px;">Legal Notice</h3>
        <p style="font-size: 14px; color: #856404; line-height: 1.8;">
            This attribution report is provided for informational and compliance purposes.
            Each component is licensed under its respective license terms. Users must comply
            with all applicable license requirements when distributing software containing
            these components. For questions about license compliance, consult with legal counsel.
        </p>
    </div>

    <div class="footer">
        <p>&copy; {{ report_date[:4] }} {{ company_name }}. All rights reserved.</p>
        <p style="font-size: 12px; margin-top: 8px;">
            Generated by BazBOM - Automated SBOM and license compliance
        </p>
    </div>
</body>
</html>
